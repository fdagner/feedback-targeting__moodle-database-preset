];

var antworten = [];

for (var i = 0; i < feedback.length; i++) {
  var inneresArray = feedback[i];
  var neuesInneresArray = [];

  for (var j = 0; j < inneresArray.length; j++) {
    switch (inneresArray[j]) {
      case 1:
        neuesInneresArray.push(4);
        break;
      case 2:
        neuesInneresArray.push(3);
        break;
      case 3:
        neuesInneresArray.push(2);
        break;
      case 4:
        neuesInneresArray.push(1);
        break;
      default:
       neuesInneresArray.push(99);
        break;
    }
  }

  antworten.push(neuesInneresArray);
}


		// Definiere eine Farbpalette für die Punkte
var farbpalette = ["green", "yellow", "red", "blue"];

// Bestimme den Viertel des Kreises basierend auf der Farbe des Punktes
var viertel = {
  "green": 1,
  "yellow": 2,
  "red": 3,
  "blue": 4
};

function platzierePunkte() {
  var zielscheibe = document.querySelector(".zielscheibe");

  // Iteriere über die Antworten
  for (var frage = 0; frage < antworten[0].length; frage++) {

    // Platziere einen Punkt für jeden Teilnehmer auf der Zielscheibe
    for (var i = 0; i < antworten.length; i++) {

      // Erstelle das Punkt-Element
      var punkt = document.createElement("div");
      punkt.classList.add("punkt");

      // Bestimme den Ring basierend auf der Antwort auf die Frage
      var ring = antworten[i][frage];

      // Bestimme den Viertel des Kreises basierend auf der Farbe des Punktes
      var farbe = farbpalette[frage];
      var viertelIndex = viertel[farbe];

      // Bestimme den Winkel und Radius für den Punkt
      var winkel = Math.random() * 90 + 90 * (viertelIndex - 1);
      var radius = (zielscheibe.offsetWidth / 2) * (ring / 5);

      // Berechne die x- und y-Koordinaten des Punktes
      var x = Math.cos(winkel * Math.PI / 180) * radius;
      var y = Math.sin(winkel * Math.PI / 180) * radius;

      // Platziere den Punkt auf der Zielscheibe
      punkt.style.left = (zielscheibe.offsetWidth / 2 + x - 15*Math.random()) + "px";
      punkt.style.top = (zielscheibe.offsetHeight / 2 + y - 15*Math.random()) + "px";

      // Füge die Farbe des Punktes als Klasse hinzu
      punkt.classList.add(farbe);

      // Füge den Punkt zur Zielscheibe hinzu
      zielscheibe.appendChild(punkt);
    }
  }
}

function berechneMittelwert() {
  var mittelwerte = {};

  // Iteriere über die Farben in der Farbpalette
  for (var i = 0; i < farbpalette.length; i++) {
    var farbe = farbpalette[i];
    var summe = 0;
    var anzahl = 0;

    // Iteriere über die Antworten für diese Farbe
    for (var j = 0; j < feedback.length; j++) {
      var ring = feedback[j][viertel[farbe] - 1]; 

      // Ignoriere leere Werte im Array feedback
      if (ring !== undefined) {
        summe += parseInt(ring);
        anzahl++;
      }
    }

    // Berechne den Mittelwert für diese Farbe, wenn mindestens ein Wert vorhanden ist
    if (anzahl > 0) {
      var mittelwert = summe / anzahl;
      mittelwerte[farbe] = mittelwert.toFixed(1);
    }
  }
  return mittelwerte;
}
var mittelwerte = berechneMittelwert();
console.log(mittelwerte);

// Schreibe den Mittelwert für jede Farbe in den entsprechenden Container
document.querySelector(".green-mittelwert").textContent = mittelwerte["green"];
document.querySelector(".red-mittelwert").textContent = mittelwerte["red"];
document.querySelector(".yellow-mittelwert").textContent = mittelwerte["yellow"];
document.querySelector(".blue-mittelwert").textContent = mittelwerte["blue"];
	platzierePunkte();

</script>
<br><br>